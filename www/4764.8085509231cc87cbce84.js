(self.webpackChunkplatzi_music=self.webpackChunkplatzi_music||[]).push([[4764],{4764:(e,i,o)=>{"use strict";o.r(i),o.d(i,{LoginPageModule:()=>Z});var t=o(1116),n=o(1462),r=o(6498),s=o(4517),a=o(4762),g=o(7368),l=o(2590),c=o(6578);function u(e,i){if(1&e&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&e){const e=g.oxw().$implicit;g.xp6(1),g.hij(" ",e.message," ")}}function m(e,i){if(1&e&&(g.ynx(0),g.YNc(1,u,2,1,"div",9),g.BQk()),2&e){const e=i.$implicit,o=g.oxw();g.xp6(1),g.Q6J("ngIf",o.loginFrom.get("email").hasError(e.type)&&(o.loginFrom.get("email").dirty||o.loginFrom.get("email").touched))}}function p(e,i){if(1&e&&(g.TgZ(0,"div"),g._uU(1),g.qZA()),2&e){const e=g.oxw().$implicit;g.xp6(1),g.hij(" ",e.message," ")}}function d(e,i){if(1&e&&(g.ynx(0),g.YNc(1,p,2,1,"div",9),g.BQk()),2&e){const e=i.$implicit,o=g.oxw();g.xp6(1),g.Q6J("ngIf",o.loginFrom.get("pass").hasError(e.type)&&(o.loginFrom.get("pass").dirty||o.loginFrom.get("pass").touched))}}const f=[{path:"",component:(()=>{class e{constructor(e,i,o,t){this.formBuilder=e,this.authService=i,this.navCtrl=o,this.storage=t,this.errorMessage="",this.validationMessage={email:[{type:"required",message:"Email requerido"},{type:"pattern",message:"Debe ingresar un email valido"}],password:[{type:"required",message:"Contrase\xf1a requerida"},{type:"minlength",message:"La contrase\xf1a debe tener minimo 5 caracteres"}]},this.loginFrom=this.formBuilder.group({email:new n.NI("",n.kI.compose([n.kI.required,n.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),pass:new n.NI("",n.kI.compose([n.kI.required,n.kI.minLength(5)]))})}ngOnInit(){}loginUser(e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.storage.create(),this.authService.logIn(e).then(e=>{"LOG IN SUCCESSFUL"===e&&(this.storage.set("isUserLoggedIn",!0),this.navCtrl.navigateForward("/menu/home"))}).catch(e=>{this.errorMessage=e})})}goRegister(){this.navCtrl.navigateForward("/register")}}return e.\u0275fac=function(i){return new(i||e)(g.Y36(n.qu),g.Y36(l.e),g.Y36(r.SH),g.Y36(c.K))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-login"]],decls:23,vars:5,consts:[[1,"ion-text-center","ion-padding"],["src","assets\\img\\logo.png","alt",""],[3,"formGroup","ngSubmit"],["formControlName","email"],[1,"ValErr"],[4,"ngFor","ngForOf"],["type","Password","formControlName","pass"],["expand","full","shape","round","color","success","type","submit",3,"disabled"],["expand","full","shape","round","color","success",3,"click"],[4,"ngIf"]],template:function(e,i){1&e&&(g.TgZ(0,"ion-header"),g.TgZ(1,"figure",0),g._UZ(2,"img",1),g.qZA(),g.qZA(),g.TgZ(3,"ion-content"),g.TgZ(4,"form",2),g.NdJ("ngSubmit",function(){return i.loginUser(i.loginFrom.value)}),g.TgZ(5,"ion-item"),g.TgZ(6,"ion-label"),g._uU(7,"Email"),g.qZA(),g._UZ(8,"ion-input",3),g.qZA(),g.TgZ(9,"div",4),g.YNc(10,m,2,1,"ng-container",5),g.qZA(),g.TgZ(11,"ion-item"),g.TgZ(12,"ion-label"),g._uU(13,"Password"),g.qZA(),g._UZ(14,"ion-input",6),g.qZA(),g.TgZ(15,"div",4),g.YNc(16,d,2,1,"ng-container",5),g._uU(17),g.TgZ(18,"ion-button",7),g._uU(19," Send"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"ion-footer"),g.TgZ(21,"ion-button",8),g.NdJ("click",function(){return i.goRegister()}),g._uU(22,"Register"),g.qZA(),g.qZA()),2&e&&(g.xp6(4),g.Q6J("formGroup",i.loginFrom),g.xp6(6),g.Q6J("ngForOf",i.validationMessage.email),g.xp6(6),g.Q6J("ngForOf",i.validationMessage.password),g.xp6(1),g.hij(" ",i.errorMessage," "),g.xp6(1),g.Q6J("disabled",!i.loginFrom.valid))},directives:[r.Gu,r.W2,n._Y,n.JL,n.sg,r.Ie,r.Q$,r.pK,r.j9,n.JJ,n.u,t.sg,r.YG,r.fr,t.O5],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[s.Bz.forChild(f)],s.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[t.ez,n.u5,r.Pc,h,n.u5,n.UX]]}),e})()}}]);